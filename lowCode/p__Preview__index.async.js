"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[879],{32332:function(da,y,a){a.r(y),a.d(y,{default:function(){return ea}});var E=a(26068),j=a.n(E),I=a(90228),S=a.n(I),B=a(87999),G=a.n(B),J=a(48305),W=a.n(J),Z=a(77865),K=a(14775),L=a(26953),Q=a(82519),b=a(32699),p=a(75271),X=a(79718),Y={requestHandlersMap:{fetch:(0,X.c)()},utils:{demoUtil:function(){for(var e=arguments.length,t=new Array(e),l=0;l<e;l++)t[l]=arguments[l];console.log("this is a demoUtil with params ".concat(t))}},constants:{ConstantA:"ConstantA",ConstantB:"ConstantB"}},V=Y,f=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"projectSchema";return"".concat(e,":").concat(t)},q=function(e){var t=f(e,"previewLocale");return window.localStorage.getItem(t)||"zh-CN"},_=function(e,t){var l=f(e,"previewLocale");window.localStorage.setItem(l,t||"zh-CN"),window.location.reload()},ma=function(e){if(!e){console.error("scenarioName is required!");return}return JSON.parse(window.localStorage.getItem(f(e,"packages"))||"{}")},N=JSON.parse('{"packages":[{"package":"moment","version":"2.24.0","urls":["https://g.alicdn.com/mylib/moment/2.24.0/min/moment.min.js"],"library":"moment"},{"package":"lodash","library":"_","urls":["https://g.alicdn.com/platform/c/lodash/4.6.1/lodash.min.js"]},{"title":"fusion\u7EC4\u4EF6\u5E93","package":"@alifd/next","version":"1.26.4","urls":["https://g.alicdn.com/code/lib/alifd__next/1.26.4/next.min.css","https://g.alicdn.com/code/lib/alifd__next/1.26.4/next-with-locales.min.js"],"library":"Next"},{"title":"NextTable","package":"NextTable","version":"1.0.1","urls":["https://g.alicdn.com/fusion-platform/pro-table/1.0.1/next-table.js","https://g.alicdn.com/fusion-platform/pro-table/1.0.1/next-table.css"],"library":"NextTable"},{"package":"@alilc/lowcode-materials","version":"1.0.7","library":"AlilcLowcodeMaterials","urls":["https://alifd.alicdn.com/npm/@alilc/lowcode-materials@1.0.7/dist/AlilcLowcodeMaterials.js","https://alifd.alicdn.com/npm/@alilc/lowcode-materials@1.0.7/dist/AlilcLowcodeMaterials.css"],"editUrls":["https://alifd.alicdn.com/npm/@alilc/lowcode-materials@1.0.7/build/lowcode/view.js","https://alifd.alicdn.com/npm/@alilc/lowcode-materials@1.0.7/build/lowcode/view.css"]},{"package":"@alifd/layout","version":"2.4.1","library":"AlifdLayout","urls":["https://alifd.alicdn.com/npm/@alifd/layout@2.4.1/dist/AlifdLayout.js","https://alifd.alicdn.com/npm/@alifd/layout@2.4.1/dist/AlifdLayout.css"],"editUrls":["https://alifd.alicdn.com/npm/@alifd/layout@2.4.1/build/lowcode/view.js","https://alifd.alicdn.com/npm/@alifd/layout@2.4.1/build/lowcode/view.css"]},{"package":"@alifd/fusion-ui","version":"2.0.2","library":"AlifdFusionUi","urls":["https://alifd.alicdn.com/npm/@alifd/fusion-ui@2.0.2/dist/AlifdFusionUi.js","https://alifd.alicdn.com/npm/@alifd/fusion-ui@2.0.2/dist/AlifdFusionUi.css"],"editUrls":["https://alifd.alicdn.com/npm/@alifd/fusion-ui@2.0.2/build/lowcode/view.js","https://alifd.alicdn.com/npm/@alifd/fusion-ui@2.0.2/build/lowcode/view.css"]}],"components":[{"exportName":"AlilcLowcodeMaterialsMeta","npm":{"package":"@alilc/lowcode-materials"},"url":"https://alifd.alicdn.com/npm/@alilc/lowcode-materials@1.0.7/build/lowcode/meta.js","urls":{"default":"https://alifd.alicdn.com/npm/@alilc/lowcode-materials@1.0.7/build/lowcode/meta.js","design":"https://alifd.alicdn.com/npm/@alilc/lowcode-materials@1.0.7/build/lowcode/meta.design.js"}},{"exportName":"AlifdLayoutMeta","npm":{"package":"@alifd/layout","version":"2.4.1"},"url":"https://alifd.alicdn.com/npm/@alifd/layout@2.4.1/build/lowcode/meta.js","urls":{"default":"https://alifd.alicdn.com/npm/@alifd/layout@2.4.1/build/lowcode/meta.js"}},{"exportName":"AlifdFusionUiMeta","npm":{"package":"@alifd/fusion-ui"},"url":"https://alifd.alicdn.com/npm/@alifd/fusion-ui@2.0.2/build/lowcode/meta.js","urls":{"default":"https://alifd.alicdn.com/npm/@alifd/fusion-ui@2.0.2/build/lowcode/meta.js","design":"https://alifd.alicdn.com/npm/@alifd/fusion-ui@2.0.2/build/lowcode/meta.design.js"}}],"sort":{"groupList":["\u7CBE\u9009\u7EC4\u4EF6","\u539F\u5B50\u7EC4\u4EF6","\u4F4E\u4EE3\u7801\u7EC4\u4EF6"],"categoryList":["\u57FA\u7840\u5143\u7D20","\u5E03\u5C40\u5BB9\u5668\u7C7B","\u8868\u683C\u7C7B","\u8868\u5355\u8BE6\u60C5\u7C7B","\u5E2E\u52A9\u7C7B","\u5BF9\u8BDD\u6846\u7C7B","\u4E1A\u52A1\u7C7B","\u901A\u7528","\u5F15\u5BFC","\u4FE1\u606F\u8F93\u5165","\u4FE1\u606F\u5C55\u793A","\u4FE1\u606F\u53CD\u9988"]},"groupList":["\u7CBE\u9009\u7EC4\u4EF6","\u539F\u5B50\u7EC4\u4EF6","\u4F4E\u4EE3\u7801\u7EC4\u4EF6"],"ignoreComponents":{}}'),c=a(52676),v=function(){return location.search&&new URLSearchParams(location.search.slice(1)).get("scenarioName")||"general"},aa=function(){var e=(0,p.useState)({}),t=W()(e,2),l=t[0],ta=t[1],ua=v(),A=N.packages;console.log(N,A);var x=(0,Q.useLocation)(),la=new URLSearchParams(x.search),P=(0,p.useCallback)(G()(S()().mark(function s(){var m,r,T,k,D,F,h,H,w,u,O,R;return S()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,Z.t)({fileName:la.get("fileName")});case 2:return m=n.sent,r=m.data,T=r.componentsMap,k=r.componentsTree,D=r.i18n,F=r.dataSource,h={},T.forEach(function(o){h[o.componentName]=o}),H=k[0],w={},u=[],A.forEach(function(o){var ra=o.package,ca=o.library,$=o.urls,z=o.renderUrls;w[ra]=ca,z?u.push(z):$&&u.push($)}),O=new L.gO,n.next=13,O.load(u);case 13:R=(0,L.Dk)(w,h),ta({schema:H,components:R,i18n:D,projectDataSource:F});case 15:case"end":return n.stop()}},s)})),[x]);(0,p.useEffect)(function(){P()},[P]);var oa=q(v());window.setPreviewLocale||(window.setPreviewLocale=function(s){return _(v(),s)});function ia(s,m){if((0,b.isArray)(s))return s.concat(m||[])}var d=l,g=d.schema,U=d.components,M=d.i18n,sa=M===void 0?{}:M,C=d.projectDataSource,na=C===void 0?{}:C;return!g||!U?(0,c.jsx)(c.Fragment,{}):(0,c.jsx)("div",{className:"lowcode-plugin-sample-preview",style:{overflow:"auto",height:"100vh"},children:(0,c.jsx)(K.Z,{className:"lowcode-plugin-sample-preview-content",schema:j()(j()({},g),{},{dataSource:(0,b.mergeWith)(g.dataSource,na,ia)}),components:U,locale:oa,messages:sa,appHelper:V})})},ea=aa}}]);
