"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[879],{357:function(ve,w,e){e.r(w),e.d(w,{default:function(){return ee}});var x=e(26068),L=e.n(x),B=e(90228),P=e.n(B),G=e(87999),O=e.n(G),J=e(48305),W=e.n(J),Z=e(77865),K=e(14775),N=e(26953),Q=e(82519),y=e(32699),d=e(75271),X=e(79718),Y={requestHandlersMap:{fetch:(0,X.c)()},utils:{demoUtil:function(){for(var a=arguments.length,r=new Array(a),t=0;t<a;t++)r[t]=arguments[t];console.log("this is a demoUtil with params ".concat(r))}},constants:{ConstantA:"ConstantA",ConstantB:"ConstantB"}},V=Y,g=function(a){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"projectSchema";return"".concat(a,":").concat(r)},k=function(a){var r=g(a,"previewLocale");return window.localStorage.getItem(r)||"zh-CN"},b=function(a,r){var t=g(a,"previewLocale");window.localStorage.setItem(t,r||"zh-CN"),window.location.reload()},q=function(a){if(!a){console.error("scenarioName is required!");return}return JSON.parse(window.localStorage.getItem(g(a,"packages"))||"{}")},i=e(52676),p=function(){return location.search&&new URLSearchParams(location.search.slice(1)).get("scenarioName")||"general"},_=function(){var a=(0,d.useState)({}),r=W()(a,2),t=r[0],ae=r[1],re=p(),te=q(re),j=(0,Q.useLocation)(),ne=new URLSearchParams(j.search),C=(0,d.useCallback)(O()(P()().mark(function s(){var v,l,T,M,H,R,h,$,S,m,z,E;return P()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,Z.t)({fileName:ne.get("fileName")});case 2:return v=c.sent,l=v.data,T=l.componentsMap,M=l.componentsTree,H=l.i18n,R=l.dataSource,h={},T.forEach(function(n){h[n.componentName]=n}),$=M[0],S={},m=[],te.forEach(function(n){var ie=n.package,ue=n.library,F=n.urls,I=n.renderUrls;S[ie]=ue,I?m.push(I):F&&m.push(F)}),z=new N.gO,c.next=13,z.load(m);case 13:E=(0,N.Dk)(S,h),ae({schema:$,components:E,i18n:H,projectDataSource:R});case 15:case"end":return c.stop()}},s)})),[j]);(0,d.useEffect)(function(){C()},[C]);var oe=k(p());window.setPreviewLocale||(window.setPreviewLocale=function(s){return b(p(),s)});function se(s,v){if((0,y.isArray)(s))return s.concat(v||[])}var u=t,f=u.schema,A=u.components,D=u.i18n,ce=D===void 0?{}:D,U=u.projectDataSource,le=U===void 0?{}:U;return!f||!A?(0,i.jsx)(i.Fragment,{}):(0,i.jsx)("div",{className:"lowcode-plugin-sample-preview",style:{overflow:"auto",height:"100vh"},children:(0,i.jsx)(K.Z,{className:"lowcode-plugin-sample-preview-content",schema:L()(L()({},f),{},{dataSource:(0,y.mergeWith)(f.dataSource,le,se)}),components:A,locale:oe,messages:ce,appHelper:V})})},ee=_}}]);
